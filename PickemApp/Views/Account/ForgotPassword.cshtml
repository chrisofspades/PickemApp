@model PickemApp.ViewModels.AccountForgotPassword

@{
    ViewBag.Title = "Forgot Password";
}

<h2>Forgot Your Password?</h2>

@if (!string.IsNullOrEmpty(Request["message"]))
{
    @DisplayMessage((PickemApp.Controllers.AccountController.ManageMessageId)Enum.Parse(typeof(PickemApp.Controllers.AccountController.ManageMessageId), Request["message"]), "success")
}

<p>Enter your email address to reset your password.</p>

@using (@Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(false, "", new { @class = "alert alert-danger" })

    <div class="form-group">
        @Html.LabelFor(f => f.Email, new { @class = "sr-only" })
        @Html.EditorFor(f => f.Email, new { htmlAttributes = new { @class = "form-control", placeholder = Html.DisplayNameFor(f => f.Email) } })
    </div>
    
    <button type="submit" class="btn btn-primary">Submit</button>
    
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

@helper DisplayMessage(PickemApp.Controllers.AccountController.ManageMessageId? messageId, string messageType = "success")
{
    if (messageId.HasValue)
    {
        string message = "";
        switch (messageId)
        {
            case PickemApp.Controllers.AccountController.ManageMessageId.ResetPasswordSuccess:
                message = "Your password was reset.";
                break;
            case PickemApp.Controllers.AccountController.ManageMessageId.ForgotPasswordSuccess:
                message = "An email was sent with instructions on how to reset your password.";
                break;
        }
        <p class="alert alert-dismissable alert-@messageType">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            @message
        </p>
    }
}
